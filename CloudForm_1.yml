Parameters: 
  VpcId:
    Type: AWS::EC2::VPC::Id
    Description: "VpcId of your current Virtual Private Cloud that you wish to use" 
    Default: vpc-0442d7f979fcd6a41

Resources:
 VPC: 
    Type: AWS::EC2::VPC
    Properties: 
        CidrBlock: 10.0.0.0/16
        EnableDnsSupport: true
        EnableDnsHostnames: true
        Tags: 
            - Key: "Name"
              Value: "Mini-Network Project"
              
 InternetGateway:
    Type: AWS::EC2::InternetGateway
    Properties:
        Tags: 
            - Key: "Name"
              Value: "Mini-Network Project Internet Gateway"
            
 InternetGatewayAttachment:
    Type: AWS::EC2::VPCGatewayAttachment
    Properties:
        InternetGatewayId: !Ref InternetGateway
        VpcId: !Ref VPC
       
 PublicSubnetA:
    Type: AWS::EC2::Subnet
    Properties: 
        VpcId: !Ref VPC
        AvailabilityZone: us-east-1a
        CidrBlock: 10.0.0.0/24
        MapPublicIpOnLaunch: true
        Tags: 
            - Key: "Name"
              Value: "Public Subnet A"
            
 PrivateSubnetB:
    Type: AWS::EC2::Subnet
    Properties: 
        VpcId: !Ref VPC
        AvailabilityZone: us-east-1b
        CidrBlock: 10.0.1.0/24
        MapPublicIpOnLaunch: false
        Tags:
            - Key: "Name"
              Value: "Private Subnet B"
              
 RouteTable:
    Type: AWS::EC2::RouteTable
    Properties:
        VpcId: !Ref VPC
           
 InternetRoute: 
    Type: AWS::EC2::Route
    DependsOn: InternetGateway
    Properties:
        DestinationCidrBlock: 0.0.0.0/0
        GatewayId: !Ref InternetGateway
        RouteTableId: !Ref RouteTable
        
 PublicSubnetATableAssociation:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
        RouteTableId: !Ref RouteTable
        SubnetId: !Ref PublicSubnetA
   

       